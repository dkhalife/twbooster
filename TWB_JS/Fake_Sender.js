// @Name = Fake Sender
// @Shortcut = 1
// @TWB = false

var[sp,sw,ax,ar,scout,lc,mount,hv,cat,ra]=[0,0,0,0,0,0,0,0,0,1];chk=1;corcookie=document.cookie.match('(^|;) ?cor=([^;]*)(;|$)');if(!(corcookie != null) || !(corcookie[2].length>0)){crds=prompt("Enter Village Coordinates","");coords=crds;}else{coords=corcookie[2];crds=coords;}var doc=document;if(window.frames.length>0)doc=window.main.document;url=document.URL;if(url.indexOf('screen=place')==-1)alert('This script needs to be run from the rally point');coords=coords.split(" ");index=0;farmcookie=document.cookie.match('(^|;) ?farm=([^;]*)(;|$)');if(farmcookie!=null){index=parseInt(farmcookie[2]);chk=1}if(index>=coords.length){alert('last village');chk=0}if(index>=coords.length)index=0;coords=coords[index];coords=coords.split("|");index=index+1;cookie_date=new Date(2011,11,11);document.cookie ="farm="+index+";expires="+cookie_date.toGMTString();document.cookie ="cor="+crds+";expires="+cookie_date.toGMTString();if(chk==0)document.cookie ="cor=";expires="cookie_date.toGMTString()";doc.forms[0].x.value=coords[0];doc.forms[0].y.value=coords[1];insertUnit(doc.forms[0].spear,sp);insertUnit(doc.forms[0].sword,sw);insertUnit(doc.forms[0].axe,ax);insertUnit(doc.forms[0].archer,ar);insertUnit(doc.forms[0].spy,scout);insertUnit(doc.forms[0].light,lc);insertUnit(doc.forms[0].marcher,mount);insertUnit(doc.forms[0].heavy,hv);insertUnit(doc.forms[0].ram,ra);insertUnit(doc.forms[0].catapult,cat);if(parseInt(ra >0 && doc.forms[0].ram.nextSibling.nextSibling.firstChild.nodeValue.substring(1,2))==0){insertUnit(doc.forms[0].catapult,ra);insertUnit(doc.forms[0].ram,cat)}end();